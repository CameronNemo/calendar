/* LocalBackend.c generated by valac 0.24.0, the Vala compiler
 * generated from LocalBackend.vala, do not modify */

/* -*- Mode: vala; indent-tabs-mode: nil; tab-width: 4 -*-*/
/*-
 * Copyright (c) 2013 Maya Developers (https://launchpad.net/maya)
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Library General Public
 * License as published by the Free Software Foundation; either
 * version 2 of the License, or (at your option) any later version.
 *
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Library General Public License for more details.
 *
 * You should have received a copy of the GNU Library General Public
 * License along with this library; if not, write to the
 * Free Software Foundation, Inc., 59 Temple Place - Suite 330,
 * Boston, MA 02111-1307, USA.
 *
 * Authored by: Corentin NoÃ«l <tintou@mailoo.org>
 */

#include <glib.h>
#include <glib-object.h>
#include <stdlib.h>
#include <string.h>
#include <libedataserver/libedataserver.h>
#include <gee.h>
#include <glib/gi18n-lib.h>


#define MAYA_TYPE_BACKEND (maya_backend_get_type ())
#define MAYA_BACKEND(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), MAYA_TYPE_BACKEND, MayaBackend))
#define MAYA_IS_BACKEND(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), MAYA_TYPE_BACKEND))
#define MAYA_BACKEND_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), MAYA_TYPE_BACKEND, MayaBackendIface))

typedef struct _MayaBackend MayaBackend;
typedef struct _MayaBackendIface MayaBackendIface;

#define MAYA_TYPE_PLACEMENT_WIDGET (maya_placement_widget_get_type ())
#define MAYA_PLACEMENT_WIDGET(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), MAYA_TYPE_PLACEMENT_WIDGET, MayaPlacementWidget))
#define MAYA_PLACEMENT_WIDGET_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), MAYA_TYPE_PLACEMENT_WIDGET, MayaPlacementWidgetClass))
#define MAYA_IS_PLACEMENT_WIDGET(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), MAYA_TYPE_PLACEMENT_WIDGET))
#define MAYA_IS_PLACEMENT_WIDGET_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), MAYA_TYPE_PLACEMENT_WIDGET))
#define MAYA_PLACEMENT_WIDGET_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), MAYA_TYPE_PLACEMENT_WIDGET, MayaPlacementWidgetClass))

typedef struct _MayaPlacementWidget MayaPlacementWidget;
typedef struct _MayaPlacementWidgetClass MayaPlacementWidgetClass;

#define MAYA_TYPE_LOCAL_BACKEND (maya_local_backend_get_type ())
#define MAYA_LOCAL_BACKEND(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), MAYA_TYPE_LOCAL_BACKEND, MayaLocalBackend))
#define MAYA_LOCAL_BACKEND_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), MAYA_TYPE_LOCAL_BACKEND, MayaLocalBackendClass))
#define MAYA_IS_LOCAL_BACKEND(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), MAYA_TYPE_LOCAL_BACKEND))
#define MAYA_IS_LOCAL_BACKEND_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), MAYA_TYPE_LOCAL_BACKEND))
#define MAYA_LOCAL_BACKEND_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), MAYA_TYPE_LOCAL_BACKEND, MayaLocalBackendClass))

typedef struct _MayaLocalBackend MayaLocalBackend;
typedef struct _MayaLocalBackendClass MayaLocalBackendClass;
typedef struct _MayaLocalBackendPrivate MayaLocalBackendPrivate;
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))

struct _MayaBackendIface {
	GTypeInterface parent_iface;
	gchar* (*get_name) (MayaBackend* self);
	gchar* (*get_uid) (MayaBackend* self);
	GeeCollection* (*get_new_calendar_widget) (MayaBackend* self, ESource* to_edit);
	void (*add_new_calendar) (MayaBackend* self, const gchar* name, const gchar* color, gboolean set_default, GeeCollection* widgets);
	void (*modify_calendar) (MayaBackend* self, const gchar* name, const gchar* color, gboolean set_default, GeeCollection* widgets, ESource* source);
};

struct _MayaLocalBackend {
	GObject parent_instance;
	MayaLocalBackendPrivate * priv;
};

struct _MayaLocalBackendClass {
	GObjectClass parent_class;
};


static gpointer maya_local_backend_parent_class = NULL;
static MayaBackendIface* maya_local_backend_maya_backend_parent_iface = NULL;

GType maya_placement_widget_get_type (void) G_GNUC_CONST;
GType maya_backend_get_type (void) G_GNUC_CONST;
GType maya_local_backend_get_type (void) G_GNUC_CONST;
enum  {
	MAYA_LOCAL_BACKEND_DUMMY_PROPERTY
};
static gchar* maya_local_backend_real_get_name (MayaBackend* base);
static gchar* maya_local_backend_real_get_uid (MayaBackend* base);
static GeeCollection* maya_local_backend_real_get_new_calendar_widget (MayaBackend* base, ESource* to_edit);
static void maya_local_backend_real_add_new_calendar (MayaBackend* base, const gchar* name, const gchar* color, gboolean set_default, GeeCollection* widgets);
gchar* maya_backend_get_uid (MayaBackend* self);
static void maya_local_backend_real_modify_calendar (MayaBackend* base, const gchar* name, const gchar* color, gboolean set_default, GeeCollection* widgets, ESource* source);
MayaLocalBackend* maya_local_backend_new (void);
MayaLocalBackend* maya_local_backend_construct (GType object_type);


static gchar* maya_local_backend_real_get_name (MayaBackend* base) {
	MayaLocalBackend * self;
	gchar* result = NULL;
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
#line 25 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	self = (MayaLocalBackend*) base;
#line 26 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	_tmp0_ = _ ("On this computer");
#line 26 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 26 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	result = _tmp1_;
#line 26 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	return result;
#line 121 "LocalBackend.c"
}


static gchar* maya_local_backend_real_get_uid (MayaBackend* base) {
	MayaLocalBackend * self;
	gchar* result = NULL;
	gchar* _tmp0_ = NULL;
#line 29 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	self = (MayaLocalBackend*) base;
#line 30 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	_tmp0_ = g_strdup ("local-stub");
#line 30 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	result = _tmp0_;
#line 30 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	return result;
#line 137 "LocalBackend.c"
}


static GeeCollection* maya_local_backend_real_get_new_calendar_widget (MayaBackend* base, ESource* to_edit) {
	MayaLocalBackend * self;
	GeeCollection* result = NULL;
	GeeLinkedList* _tmp0_ = NULL;
#line 33 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	self = (MayaLocalBackend*) base;
#line 34 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	_tmp0_ = gee_linked_list_new (MAYA_TYPE_PLACEMENT_WIDGET, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL, NULL, NULL);
#line 34 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	result = (GeeCollection*) _tmp0_;
#line 34 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	return result;
#line 153 "LocalBackend.c"
}


static gpointer _g_object_ref0 (gpointer self) {
#line 42 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	return self ? g_object_ref (self) : NULL;
#line 160 "LocalBackend.c"
}


static void maya_local_backend_real_add_new_calendar (MayaBackend* base, const gchar* name, const gchar* color, gboolean set_default, GeeCollection* widgets) {
	MayaLocalBackend * self;
	GError * _inner_error_ = NULL;
#line 37 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	self = (MayaLocalBackend*) base;
#line 37 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	g_return_if_fail (name != NULL);
#line 37 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	g_return_if_fail (color != NULL);
#line 37 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	g_return_if_fail (widgets != NULL);
#line 175 "LocalBackend.c"
	{
		ESource* new_source = NULL;
		ESource* _tmp0_ = NULL;
		ESource* _tmp1_ = NULL;
		const gchar* _tmp2_ = NULL;
		ESource* _tmp3_ = NULL;
		gchar* _tmp4_ = NULL;
		gchar* _tmp5_ = NULL;
		ESourceCalendar* cal = NULL;
		ESource* _tmp6_ = NULL;
		ESourceExtension* _tmp7_ = NULL;
		ESourceCalendar* _tmp8_ = NULL;
		ESourceCalendar* _tmp9_ = NULL;
		const gchar* _tmp10_ = NULL;
		ESourceCalendar* _tmp11_ = NULL;
		ESourceRegistry* registry = NULL;
		ESourceRegistry* _tmp12_ = NULL;
		ESourceRegistry* _tmp13_ = NULL;
		ESource* _tmp14_ = NULL;
		gboolean _tmp15_ = FALSE;
#line 39 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp0_ = e_source_new (NULL, NULL, &_inner_error_);
#line 39 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		new_source = _tmp0_;
#line 39 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		if (_inner_error_ != NULL) {
#line 202 "LocalBackend.c"
			goto __catch1_g_error;
		}
#line 40 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp1_ = new_source;
#line 40 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp2_ = name;
#line 40 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		e_source_set_display_name (_tmp1_, _tmp2_);
#line 41 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp3_ = new_source;
#line 41 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp4_ = maya_backend_get_uid ((MayaBackend*) self);
#line 41 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp5_ = _tmp4_;
#line 41 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		e_source_set_parent (_tmp3_, _tmp5_);
#line 41 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_g_free0 (_tmp5_);
#line 42 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp6_ = new_source;
#line 42 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp7_ = e_source_get_extension (_tmp6_, E_SOURCE_EXTENSION_CALENDAR);
#line 42 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp8_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp7_, e_source_calendar_get_type (), ESourceCalendar));
#line 42 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		cal = _tmp8_;
#line 43 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp9_ = cal;
#line 43 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp10_ = color;
#line 43 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		e_source_selectable_set_color ((ESourceSelectable*) _tmp9_, _tmp10_);
#line 44 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp11_ = cal;
#line 44 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		e_source_backend_set_backend_name ((ESourceBackend*) _tmp11_, "local");
#line 45 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp12_ = e_source_registry_new_sync (NULL, &_inner_error_);
#line 45 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		registry = _tmp12_;
#line 45 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		if (_inner_error_ != NULL) {
#line 45 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
			_g_object_unref0 (cal);
#line 45 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
			_g_object_unref0 (new_source);
#line 249 "LocalBackend.c"
			goto __catch1_g_error;
		}
#line 46 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp13_ = registry;
#line 46 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp14_ = new_source;
#line 46 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		e_source_registry_commit_source_sync (_tmp13_, _tmp14_, NULL, &_inner_error_);
#line 46 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		if (_inner_error_ != NULL) {
#line 46 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
			_g_object_unref0 (registry);
#line 46 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
			_g_object_unref0 (cal);
#line 46 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
			_g_object_unref0 (new_source);
#line 266 "LocalBackend.c"
			goto __catch1_g_error;
		}
#line 47 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp15_ = set_default;
#line 47 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		if (_tmp15_) {
#line 273 "LocalBackend.c"
			ESourceRegistry* _tmp16_ = NULL;
			ESource* _tmp17_ = NULL;
#line 48 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
			_tmp16_ = registry;
#line 48 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
			_tmp17_ = new_source;
#line 48 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
			g_object_set (_tmp16_, "default-calendar", _tmp17_, NULL);
#line 282 "LocalBackend.c"
		}
#line 38 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_g_object_unref0 (registry);
#line 38 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_g_object_unref0 (cal);
#line 38 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_g_object_unref0 (new_source);
#line 290 "LocalBackend.c"
	}
	goto __finally1;
	__catch1_g_error:
	{
		GError* _error_ = NULL;
		GError* _tmp18_ = NULL;
		const gchar* _tmp19_ = NULL;
#line 38 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_error_ = _inner_error_;
#line 38 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_inner_error_ = NULL;
#line 51 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp18_ = _error_;
#line 51 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp19_ = _tmp18_->message;
#line 51 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		g_critical ("LocalBackend.vala:51: %s", _tmp19_);
#line 38 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_g_error_free0 (_error_);
#line 310 "LocalBackend.c"
	}
	__finally1:
#line 38 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	if (_inner_error_ != NULL) {
#line 38 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 38 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		g_clear_error (&_inner_error_);
#line 38 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		return;
#line 321 "LocalBackend.c"
	}
}


static void maya_local_backend_real_modify_calendar (MayaBackend* base, const gchar* name, const gchar* color, gboolean set_default, GeeCollection* widgets, ESource* source) {
	MayaLocalBackend * self;
	GError * _inner_error_ = NULL;
#line 55 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	self = (MayaLocalBackend*) base;
#line 55 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	g_return_if_fail (name != NULL);
#line 55 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	g_return_if_fail (color != NULL);
#line 55 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	g_return_if_fail (widgets != NULL);
#line 55 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	g_return_if_fail (source != NULL);
#line 339 "LocalBackend.c"
	{
		ESource* _tmp0_ = NULL;
		const gchar* _tmp1_ = NULL;
		ESourceCalendar* cal = NULL;
		ESource* _tmp2_ = NULL;
		ESourceExtension* _tmp3_ = NULL;
		ESourceCalendar* _tmp4_ = NULL;
		ESourceCalendar* _tmp5_ = NULL;
		const gchar* _tmp6_ = NULL;
		gboolean _tmp7_ = FALSE;
		ESource* _tmp11_ = NULL;
#line 57 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp0_ = source;
#line 57 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp1_ = name;
#line 57 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		e_source_set_display_name (_tmp0_, _tmp1_);
#line 58 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp2_ = source;
#line 58 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp3_ = e_source_get_extension (_tmp2_, E_SOURCE_EXTENSION_CALENDAR);
#line 58 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp4_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, e_source_calendar_get_type (), ESourceCalendar));
#line 58 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		cal = _tmp4_;
#line 59 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp5_ = cal;
#line 59 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp6_ = color;
#line 59 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		e_source_selectable_set_color ((ESourceSelectable*) _tmp5_, _tmp6_);
#line 60 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp7_ = set_default;
#line 60 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		if (_tmp7_) {
#line 375 "LocalBackend.c"
			ESourceRegistry* registry = NULL;
			ESourceRegistry* _tmp8_ = NULL;
			ESourceRegistry* _tmp9_ = NULL;
			ESource* _tmp10_ = NULL;
#line 61 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
			_tmp8_ = e_source_registry_new_sync (NULL, &_inner_error_);
#line 61 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
			registry = _tmp8_;
#line 61 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
			if (_inner_error_ != NULL) {
#line 61 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
				_g_object_unref0 (cal);
#line 388 "LocalBackend.c"
				goto __catch2_g_error;
			}
#line 62 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
			_tmp9_ = registry;
#line 62 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
			_tmp10_ = source;
#line 62 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
			g_object_set (_tmp9_, "default-calendar", _tmp10_, NULL);
#line 60 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
			_g_object_unref0 (registry);
#line 399 "LocalBackend.c"
		}
#line 64 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp11_ = source;
#line 64 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		e_source_write (_tmp11_, NULL, NULL, NULL);
#line 56 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_g_object_unref0 (cal);
#line 407 "LocalBackend.c"
	}
	goto __finally2;
	__catch2_g_error:
	{
		GError* _error_ = NULL;
		GError* _tmp12_ = NULL;
		const gchar* _tmp13_ = NULL;
#line 56 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_error_ = _inner_error_;
#line 56 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_inner_error_ = NULL;
#line 66 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp12_ = _error_;
#line 66 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_tmp13_ = _tmp12_->message;
#line 66 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		g_critical ("LocalBackend.vala:66: %s", _tmp13_);
#line 56 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		_g_error_free0 (_error_);
#line 427 "LocalBackend.c"
	}
	__finally2:
#line 56 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	if (_inner_error_ != NULL) {
#line 56 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 56 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		g_clear_error (&_inner_error_);
#line 56 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
		return;
#line 438 "LocalBackend.c"
	}
}


MayaLocalBackend* maya_local_backend_construct (GType object_type) {
	MayaLocalBackend * self = NULL;
#line 23 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	self = (MayaLocalBackend*) g_object_new (object_type, NULL);
#line 23 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	return self;
#line 449 "LocalBackend.c"
}


MayaLocalBackend* maya_local_backend_new (void) {
#line 23 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	return maya_local_backend_construct (MAYA_TYPE_LOCAL_BACKEND);
#line 456 "LocalBackend.c"
}


static void maya_local_backend_class_init (MayaLocalBackendClass * klass) {
#line 23 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	maya_local_backend_parent_class = g_type_class_peek_parent (klass);
#line 463 "LocalBackend.c"
}


static void maya_local_backend_maya_backend_interface_init (MayaBackendIface * iface) {
#line 23 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	maya_local_backend_maya_backend_parent_iface = g_type_interface_peek_parent (iface);
#line 23 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	iface->get_name = (gchar* (*)(MayaBackend*)) maya_local_backend_real_get_name;
#line 23 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	iface->get_uid = (gchar* (*)(MayaBackend*)) maya_local_backend_real_get_uid;
#line 23 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	iface->get_new_calendar_widget = (GeeCollection* (*)(MayaBackend*, ESource*)) maya_local_backend_real_get_new_calendar_widget;
#line 23 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	iface->add_new_calendar = (void (*)(MayaBackend*, const gchar*, const gchar*, gboolean, GeeCollection*)) maya_local_backend_real_add_new_calendar;
#line 23 "/home/phillip/maya/fix-1329550/core/Backends/LocalBackend.vala"
	iface->modify_calendar = (void (*)(MayaBackend*, const gchar*, const gchar*, gboolean, GeeCollection*, ESource*)) maya_local_backend_real_modify_calendar;
#line 480 "LocalBackend.c"
}


static void maya_local_backend_instance_init (MayaLocalBackend * self) {
}


GType maya_local_backend_get_type (void) {
	static volatile gsize maya_local_backend_type_id__volatile = 0;
	if (g_once_init_enter (&maya_local_backend_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (MayaLocalBackendClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) maya_local_backend_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (MayaLocalBackend), 0, (GInstanceInitFunc) maya_local_backend_instance_init, NULL };
		static const GInterfaceInfo maya_backend_info = { (GInterfaceInitFunc) maya_local_backend_maya_backend_interface_init, (GInterfaceFinalizeFunc) NULL, NULL};
		GType maya_local_backend_type_id;
		maya_local_backend_type_id = g_type_register_static (G_TYPE_OBJECT, "MayaLocalBackend", &g_define_type_info, 0);
		g_type_add_interface_static (maya_local_backend_type_id, MAYA_TYPE_BACKEND, &maya_backend_info);
		g_once_init_leave (&maya_local_backend_type_id__volatile, maya_local_backend_type_id);
	}
	return maya_local_backend_type_id__volatile;
}



