/* MayaToolbar.c generated by valac 0.24.0, the Vala compiler
 * generated from MayaToolbar.vala, do not modify */

/**/
/*  Copyright (C) 2011-2012 Maxwell Barvian*/
/**/
/*  This program is free software: you can redistribute it and/or modify*/
/*  it under the terms of the GNU General Public License as published by*/
/*  the Free Software Foundation, either version 3 of the License, or*/
/*  (at your option) any later version.*/
/**/
/*  This program is distributed in the hope that it will be useful,*/
/*  but WITHOUT ANY WARRANTY; without even the implied warranty of*/
/*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the*/
/*  GNU General Public License for more details.*/
/**/
/*  You should have received a copy of the GNU General Public License*/
/*  along with this program.  If not, see <http://www.gnu.org/licenses/>.*/
/**/

#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <maya-calendar.h>
#include <glib/gi18n-lib.h>
#include <granite.h>
#include <stdlib.h>
#include <string.h>
#include <gio/gio.h>


#define MAYA_VIEW_TYPE_MAYA_TOOLBAR (maya_view_maya_toolbar_get_type ())
#define MAYA_VIEW_MAYA_TOOLBAR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), MAYA_VIEW_TYPE_MAYA_TOOLBAR, MayaViewMayaToolbar))
#define MAYA_VIEW_MAYA_TOOLBAR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), MAYA_VIEW_TYPE_MAYA_TOOLBAR, MayaViewMayaToolbarClass))
#define MAYA_VIEW_IS_MAYA_TOOLBAR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), MAYA_VIEW_TYPE_MAYA_TOOLBAR))
#define MAYA_VIEW_IS_MAYA_TOOLBAR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), MAYA_VIEW_TYPE_MAYA_TOOLBAR))
#define MAYA_VIEW_MAYA_TOOLBAR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), MAYA_VIEW_TYPE_MAYA_TOOLBAR, MayaViewMayaToolbarClass))

typedef struct _MayaViewMayaToolbar MayaViewMayaToolbar;
typedef struct _MayaViewMayaToolbarClass MayaViewMayaToolbarClass;
typedef struct _MayaViewMayaToolbarPrivate MayaViewMayaToolbarPrivate;

#define MAYA_VIEW_WIDGETS_TYPE_DATE_SWITCHER (maya_view_widgets_date_switcher_get_type ())
#define MAYA_VIEW_WIDGETS_DATE_SWITCHER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), MAYA_VIEW_WIDGETS_TYPE_DATE_SWITCHER, MayaViewWidgetsDateSwitcher))
#define MAYA_VIEW_WIDGETS_DATE_SWITCHER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), MAYA_VIEW_WIDGETS_TYPE_DATE_SWITCHER, MayaViewWidgetsDateSwitcherClass))
#define MAYA_VIEW_WIDGETS_IS_DATE_SWITCHER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), MAYA_VIEW_WIDGETS_TYPE_DATE_SWITCHER))
#define MAYA_VIEW_WIDGETS_IS_DATE_SWITCHER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), MAYA_VIEW_WIDGETS_TYPE_DATE_SWITCHER))
#define MAYA_VIEW_WIDGETS_DATE_SWITCHER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), MAYA_VIEW_WIDGETS_TYPE_DATE_SWITCHER, MayaViewWidgetsDateSwitcherClass))

typedef struct _MayaViewWidgetsDateSwitcher MayaViewWidgetsDateSwitcher;
typedef struct _MayaViewWidgetsDateSwitcherClass MayaViewWidgetsDateSwitcherClass;

#define MAYA_VIEW_TYPE_SOURCE_SELECTOR (maya_view_source_selector_get_type ())
#define MAYA_VIEW_SOURCE_SELECTOR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), MAYA_VIEW_TYPE_SOURCE_SELECTOR, MayaViewSourceSelector))
#define MAYA_VIEW_SOURCE_SELECTOR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), MAYA_VIEW_TYPE_SOURCE_SELECTOR, MayaViewSourceSelectorClass))
#define MAYA_VIEW_IS_SOURCE_SELECTOR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), MAYA_VIEW_TYPE_SOURCE_SELECTOR))
#define MAYA_VIEW_IS_SOURCE_SELECTOR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), MAYA_VIEW_TYPE_SOURCE_SELECTOR))
#define MAYA_VIEW_SOURCE_SELECTOR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), MAYA_VIEW_TYPE_SOURCE_SELECTOR, MayaViewSourceSelectorClass))

typedef struct _MayaViewSourceSelector MayaViewSourceSelector;
typedef struct _MayaViewSourceSelectorClass MayaViewSourceSelectorClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
typedef struct _Block3Data Block3Data;

#define MAYA_VIEW_WIDGETS_TYPE_CONTRACTOR_BUTTON_WITH_MENU (maya_view_widgets_contractor_button_with_menu_get_type ())
#define MAYA_VIEW_WIDGETS_CONTRACTOR_BUTTON_WITH_MENU(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), MAYA_VIEW_WIDGETS_TYPE_CONTRACTOR_BUTTON_WITH_MENU, MayaViewWidgetsContractorButtonWithMenu))
#define MAYA_VIEW_WIDGETS_CONTRACTOR_BUTTON_WITH_MENU_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), MAYA_VIEW_WIDGETS_TYPE_CONTRACTOR_BUTTON_WITH_MENU, MayaViewWidgetsContractorButtonWithMenuClass))
#define MAYA_VIEW_WIDGETS_IS_CONTRACTOR_BUTTON_WITH_MENU(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), MAYA_VIEW_WIDGETS_TYPE_CONTRACTOR_BUTTON_WITH_MENU))
#define MAYA_VIEW_WIDGETS_IS_CONTRACTOR_BUTTON_WITH_MENU_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), MAYA_VIEW_WIDGETS_TYPE_CONTRACTOR_BUTTON_WITH_MENU))
#define MAYA_VIEW_WIDGETS_CONTRACTOR_BUTTON_WITH_MENU_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), MAYA_VIEW_WIDGETS_TYPE_CONTRACTOR_BUTTON_WITH_MENU, MayaViewWidgetsContractorButtonWithMenuClass))

typedef struct _MayaViewWidgetsContractorButtonWithMenu MayaViewWidgetsContractorButtonWithMenu;
typedef struct _MayaViewWidgetsContractorButtonWithMenuClass MayaViewWidgetsContractorButtonWithMenuClass;

#define MAYA_TYPE_APPLICATION (maya_application_get_type ())
#define MAYA_APPLICATION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), MAYA_TYPE_APPLICATION, MayaApplication))
#define MAYA_APPLICATION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), MAYA_TYPE_APPLICATION, MayaApplicationClass))
#define MAYA_IS_APPLICATION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), MAYA_TYPE_APPLICATION))
#define MAYA_IS_APPLICATION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), MAYA_TYPE_APPLICATION))
#define MAYA_APPLICATION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), MAYA_TYPE_APPLICATION, MayaApplicationClass))

typedef struct _MayaApplication MayaApplication;
typedef struct _MayaApplicationClass MayaApplicationClass;
typedef struct _MayaApplicationPrivate MayaApplicationPrivate;
#define _g_free0(var) (var = (g_free (var), NULL))

struct _MayaViewMayaToolbar {
	GtkHeaderBar parent_instance;
	MayaViewMayaToolbarPrivate * priv;
	GtkSearchEntry* search_bar;
};

struct _MayaViewMayaToolbarClass {
	GtkHeaderBarClass parent_class;
};

struct _MayaViewMayaToolbarPrivate {
	MayaViewWidgetsDateSwitcher* month_switcher;
	MayaViewWidgetsDateSwitcher* year_switcher;
	GtkCheckMenuItem* weeknumbers;
	MayaViewSourceSelector* source_selector;
	GtkToggleButton* button_calendar_sources;
};

struct _Block3Data {
	int _ref_count_;
	MayaViewMayaToolbar* self;
	MayaModelCalendarModel* calmodel;
};

struct _MayaApplication {
	GraniteApplication parent_instance;
	MayaApplicationPrivate * priv;
	GtkWindow* window;
};

struct _MayaApplicationClass {
	GraniteApplicationClass parent_class;
};


static gpointer maya_view_maya_toolbar_parent_class = NULL;

GType maya_view_maya_toolbar_get_type (void) G_GNUC_CONST;
GType maya_view_widgets_date_switcher_get_type (void) G_GNUC_CONST;
GType maya_view_source_selector_get_type (void) G_GNUC_CONST;
#define MAYA_VIEW_MAYA_TOOLBAR_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), MAYA_VIEW_TYPE_MAYA_TOOLBAR, MayaViewMayaToolbarPrivate))
enum  {
	MAYA_VIEW_MAYA_TOOLBAR_DUMMY_PROPERTY
};
MayaViewMayaToolbar* maya_view_maya_toolbar_new (void);
MayaViewMayaToolbar* maya_view_maya_toolbar_construct (GType object_type);
static Block3Data* block3_data_ref (Block3Data* _data3_);
static void block3_data_unref (void * _userdata_);
MayaViewWidgetsDateSwitcher* maya_view_widgets_date_switcher_new (gint width_chars);
MayaViewWidgetsDateSwitcher* maya_view_widgets_date_switcher_construct (GType object_type, gint width_chars);
void maya_view_maya_toolbar_set_switcher_date (MayaViewMayaToolbar* self, GDateTime* date);
GType maya_view_widgets_contractor_button_with_menu_get_type (void) G_GNUC_CONST;
MayaViewWidgetsContractorButtonWithMenu* maya_view_widgets_contractor_button_with_menu_new (const gchar* tooltiptext);
MayaViewWidgetsContractorButtonWithMenu* maya_view_widgets_contractor_button_with_menu_construct (GType object_type, const gchar* tooltiptext);
static void __lambda17_ (MayaViewMayaToolbar* self);
static void ___lambda17__gtk_button_clicked (GtkButton* _sender, gpointer self);
static void maya_view_maya_toolbar_on_tb_sources_clicked (MayaViewMayaToolbar* self, GtkWidget* widget);
static void _maya_view_maya_toolbar_on_tb_sources_clicked_gtk_button_clicked (GtkButton* _sender, gpointer self);
static void __lambda19_ (MayaViewMayaToolbar* self);
static void ___lambda19__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
static void maya_view_maya_toolbar_on_menu_show_weeks_toggled (MayaViewMayaToolbar* self);
static void _maya_view_maya_toolbar_on_menu_show_weeks_toggled_gtk_check_menu_item_toggled (GtkCheckMenuItem* _sender, gpointer self);
static void __lambda20_ (MayaViewMayaToolbar* self);
GType maya_application_get_type (void) G_GNUC_CONST;
static void ___lambda20__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
static void __lambda21_ (MayaViewMayaToolbar* self);
static void ___lambda21__gtk_search_entry_search_changed (GtkSearchEntry* _sender, gpointer self);
static void __lambda22_ (MayaViewMayaToolbar* self);
static void ___lambda22__maya_view_widgets_date_switcher_left_clicked (MayaViewWidgetsDateSwitcher* _sender, gpointer self);
static void __lambda23_ (MayaViewMayaToolbar* self);
static void ___lambda23__maya_view_widgets_date_switcher_right_clicked (MayaViewWidgetsDateSwitcher* _sender, gpointer self);
static void __lambda24_ (MayaViewMayaToolbar* self);
static void ___lambda24__maya_view_widgets_date_switcher_left_clicked (MayaViewWidgetsDateSwitcher* _sender, gpointer self);
static void __lambda25_ (MayaViewMayaToolbar* self);
static void ___lambda25__maya_view_widgets_date_switcher_right_clicked (MayaViewWidgetsDateSwitcher* _sender, gpointer self);
static void maya_view_maya_toolbar_button_size_allocate (MayaViewMayaToolbar* self, GtkAllocation* allocation);
static void _maya_view_maya_toolbar_button_size_allocate_gtk_widget_size_allocate (GtkWidget* _sender, GtkAllocation* allocation, gpointer self);
static void __lambda26_ (Block3Data* _data3_);
static void ___lambda26__maya_model_calendar_model_parameters_changed (MayaModelCalendarModel* _sender, gpointer self);
void maya_view_widgets_date_switcher_set_text (MayaViewWidgetsDateSwitcher* self, const gchar* value);
MayaViewSourceSelector* maya_view_source_selector_new (void);
MayaViewSourceSelector* maya_view_source_selector_construct (GType object_type);
static void ___lambda18_ (MayaViewMayaToolbar* self);
static void ____lambda18__gtk_widget_hide (GtkWidget* _sender, gpointer self);
static void maya_view_maya_toolbar_finalize (GObject* obj);


static Block3Data* block3_data_ref (Block3Data* _data3_) {
#line 37 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_atomic_int_inc (&_data3_->_ref_count_);
#line 37 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	return _data3_;
#line 180 "MayaToolbar.c"
}


static void block3_data_unref (void * _userdata_) {
	Block3Data* _data3_;
	_data3_ = (Block3Data*) _userdata_;
#line 37 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	if (g_atomic_int_dec_and_test (&_data3_->_ref_count_)) {
#line 189 "MayaToolbar.c"
		MayaViewMayaToolbar* self;
#line 37 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
		self = _data3_->self;
#line 37 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
		_g_object_unref0 (_data3_->calmodel);
#line 37 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
		_g_object_unref0 (self);
#line 37 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
		g_slice_free (Block3Data, _data3_);
#line 199 "MayaToolbar.c"
	}
}


static void __lambda17_ (MayaViewMayaToolbar* self) {
#line 98 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_signal_emit_by_name (self, "add-calendar-clicked");
#line 207 "MayaToolbar.c"
}


static void ___lambda17__gtk_button_clicked (GtkButton* _sender, gpointer self) {
#line 98 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	__lambda17_ ((MayaViewMayaToolbar*) self);
#line 214 "MayaToolbar.c"
}


static void _maya_view_maya_toolbar_on_tb_sources_clicked_gtk_button_clicked (GtkButton* _sender, gpointer self) {
#line 99 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	maya_view_maya_toolbar_on_tb_sources_clicked ((MayaViewMayaToolbar*) self, _sender);
#line 221 "MayaToolbar.c"
}


static void __lambda19_ (MayaViewMayaToolbar* self) {
#line 100 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_signal_emit_by_name (self, "on-menu-today-toggled");
#line 228 "MayaToolbar.c"
}


static void ___lambda19__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
#line 100 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	__lambda19_ ((MayaViewMayaToolbar*) self);
#line 235 "MayaToolbar.c"
}


static void _maya_view_maya_toolbar_on_menu_show_weeks_toggled_gtk_check_menu_item_toggled (GtkCheckMenuItem* _sender, gpointer self) {
#line 101 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	maya_view_maya_toolbar_on_menu_show_weeks_toggled ((MayaViewMayaToolbar*) self);
#line 242 "MayaToolbar.c"
}


static gpointer _g_object_ref0 (gpointer self) {
#line 103 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	return self ? g_object_ref (self) : NULL;
#line 249 "MayaToolbar.c"
}


static void __lambda20_ (MayaViewMayaToolbar* self) {
	MayaApplication* app = NULL;
	GApplication* _tmp0_ = NULL;
	MayaApplication* _tmp1_ = NULL;
	GtkWindow* _tmp2_ = NULL;
#line 103 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp0_ = g_application_get_default ();
#line 103 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp1_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, MAYA_TYPE_APPLICATION, MayaApplication));
#line 103 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	app = _tmp1_;
#line 104 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp2_ = app->window;
#line 104 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	granite_application_show_about ((GraniteApplication*) app, (GtkWidget*) _tmp2_);
#line 102 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_object_unref0 (app);
#line 270 "MayaToolbar.c"
}


static void ___lambda20__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
#line 102 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	__lambda20_ ((MayaViewMayaToolbar*) self);
#line 277 "MayaToolbar.c"
}


static void __lambda21_ (MayaViewMayaToolbar* self) {
	GtkSearchEntry* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	const gchar* _tmp2_ = NULL;
#line 106 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp0_ = self->search_bar;
#line 106 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp1_ = gtk_entry_get_text ((GtkEntry*) _tmp0_);
#line 106 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp2_ = _tmp1_;
#line 106 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_signal_emit_by_name (self, "on-search", _tmp2_);
#line 293 "MayaToolbar.c"
}


static void ___lambda21__gtk_search_entry_search_changed (GtkSearchEntry* _sender, gpointer self) {
#line 106 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	__lambda21_ ((MayaViewMayaToolbar*) self);
#line 300 "MayaToolbar.c"
}


static void __lambda22_ (MayaViewMayaToolbar* self) {
	MayaModelCalendarModel* _tmp0_ = NULL;
	MayaModelCalendarModel* _tmp1_ = NULL;
#line 108 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp0_ = maya_model_calendar_model_get_default ();
#line 108 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp1_ = _tmp0_;
#line 108 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	maya_model_calendar_model_change_month (_tmp1_, -1);
#line 108 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_object_unref0 (_tmp1_);
#line 315 "MayaToolbar.c"
}


static void ___lambda22__maya_view_widgets_date_switcher_left_clicked (MayaViewWidgetsDateSwitcher* _sender, gpointer self) {
#line 108 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	__lambda22_ ((MayaViewMayaToolbar*) self);
#line 322 "MayaToolbar.c"
}


static void __lambda23_ (MayaViewMayaToolbar* self) {
	MayaModelCalendarModel* _tmp0_ = NULL;
	MayaModelCalendarModel* _tmp1_ = NULL;
#line 109 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp0_ = maya_model_calendar_model_get_default ();
#line 109 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp1_ = _tmp0_;
#line 109 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	maya_model_calendar_model_change_month (_tmp1_, 1);
#line 109 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_object_unref0 (_tmp1_);
#line 337 "MayaToolbar.c"
}


static void ___lambda23__maya_view_widgets_date_switcher_right_clicked (MayaViewWidgetsDateSwitcher* _sender, gpointer self) {
#line 109 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	__lambda23_ ((MayaViewMayaToolbar*) self);
#line 344 "MayaToolbar.c"
}


static void __lambda24_ (MayaViewMayaToolbar* self) {
	MayaModelCalendarModel* _tmp0_ = NULL;
	MayaModelCalendarModel* _tmp1_ = NULL;
#line 110 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp0_ = maya_model_calendar_model_get_default ();
#line 110 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp1_ = _tmp0_;
#line 110 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	maya_model_calendar_model_change_year (_tmp1_, -1);
#line 110 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_object_unref0 (_tmp1_);
#line 359 "MayaToolbar.c"
}


static void ___lambda24__maya_view_widgets_date_switcher_left_clicked (MayaViewWidgetsDateSwitcher* _sender, gpointer self) {
#line 110 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	__lambda24_ ((MayaViewMayaToolbar*) self);
#line 366 "MayaToolbar.c"
}


static void __lambda25_ (MayaViewMayaToolbar* self) {
	MayaModelCalendarModel* _tmp0_ = NULL;
	MayaModelCalendarModel* _tmp1_ = NULL;
#line 111 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp0_ = maya_model_calendar_model_get_default ();
#line 111 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp1_ = _tmp0_;
#line 111 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	maya_model_calendar_model_change_year (_tmp1_, 1);
#line 111 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_object_unref0 (_tmp1_);
#line 381 "MayaToolbar.c"
}


static void ___lambda25__maya_view_widgets_date_switcher_right_clicked (MayaViewWidgetsDateSwitcher* _sender, gpointer self) {
#line 111 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	__lambda25_ ((MayaViewMayaToolbar*) self);
#line 388 "MayaToolbar.c"
}


static void _maya_view_maya_toolbar_button_size_allocate_gtk_widget_size_allocate (GtkWidget* _sender, GtkAllocation* allocation, gpointer self) {
#line 113 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	maya_view_maya_toolbar_button_size_allocate ((MayaViewMayaToolbar*) self, allocation);
#line 395 "MayaToolbar.c"
}


static void __lambda26_ (Block3Data* _data3_) {
	MayaViewMayaToolbar* self;
	GDateTime* _tmp0_ = NULL;
	GDateTime* _tmp1_ = NULL;
#line 116 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	self = _data3_->self;
#line 117 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp0_ = maya_model_calendar_model_get_month_start (_data3_->calmodel);
#line 117 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp1_ = _tmp0_;
#line 117 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	maya_view_maya_toolbar_set_switcher_date (self, _tmp1_);
#line 411 "MayaToolbar.c"
}


static void ___lambda26__maya_model_calendar_model_parameters_changed (MayaModelCalendarModel* _sender, gpointer self) {
#line 116 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	__lambda26_ (self);
#line 418 "MayaToolbar.c"
}


MayaViewMayaToolbar* maya_view_maya_toolbar_construct (GType object_type) {
	MayaViewMayaToolbar * self = NULL;
	Block3Data* _data3_;
	GtkButton* button_add = NULL;
	GtkButton* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	GtkToggleButton* _tmp2_ = NULL;
	GtkToggleButton* _tmp3_ = NULL;
	GtkImage* _tmp4_ = NULL;
	GtkImage* _tmp5_ = NULL;
	GtkToggleButton* _tmp6_ = NULL;
	const gchar* _tmp7_ = NULL;
	MayaViewWidgetsDateSwitcher* _tmp8_ = NULL;
	MayaViewWidgetsDateSwitcher* _tmp9_ = NULL;
	MayaModelCalendarModel* _tmp10_ = NULL;
	GDateTime* _tmp11_ = NULL;
	GDateTime* _tmp12_ = NULL;
	GtkSearchEntry* _tmp13_ = NULL;
	GtkSearchEntry* _tmp14_ = NULL;
	const gchar* _tmp15_ = NULL;
	GtkSearchEntry* _tmp16_ = NULL;
	MayaViewWidgetsContractorButtonWithMenu* contractor = NULL;
	const gchar* _tmp17_ = NULL;
	MayaViewWidgetsContractorButtonWithMenu* _tmp18_ = NULL;
	GtkMenu* menu = NULL;
	GtkMenu* _tmp19_ = NULL;
	GraniteWidgetsAppMenu* menu_button = NULL;
	GraniteWidgetsAppMenu* _tmp20_ = NULL;
	GtkGrid* title_grid = NULL;
	GtkGrid* _tmp21_ = NULL;
	MayaViewWidgetsDateSwitcher* _tmp22_ = NULL;
	MayaViewWidgetsDateSwitcher* _tmp23_ = NULL;
	GtkMenuItem* today = NULL;
	const gchar* _tmp24_ = NULL;
	GtkMenuItem* _tmp25_ = NULL;
	const gchar* _tmp26_ = NULL;
	GtkCheckMenuItem* _tmp27_ = NULL;
	GtkMenuItem* about = NULL;
	const gchar* _tmp28_ = NULL;
	GtkMenuItem* _tmp29_ = NULL;
	GtkSeparatorMenuItem* _tmp30_ = NULL;
	GtkSeparatorMenuItem* _tmp31_ = NULL;
	GtkCheckMenuItem* _tmp32_ = NULL;
	GtkSeparatorMenuItem* _tmp33_ = NULL;
	GtkSeparatorMenuItem* _tmp34_ = NULL;
	GtkToggleButton* _tmp35_ = NULL;
	GtkSearchEntry* _tmp36_ = NULL;
	GtkToggleButton* _tmp37_ = NULL;
	GtkCheckMenuItem* _tmp38_ = NULL;
	GtkSearchEntry* _tmp39_ = NULL;
	MayaViewWidgetsDateSwitcher* _tmp40_ = NULL;
	MayaViewWidgetsDateSwitcher* _tmp41_ = NULL;
	MayaViewWidgetsDateSwitcher* _tmp42_ = NULL;
	MayaViewWidgetsDateSwitcher* _tmp43_ = NULL;
	GtkToggleButton* _tmp44_ = NULL;
	GtkCheckMenuItem* _tmp45_ = NULL;
	MayaSettingsSavedState* _tmp46_ = NULL;
	MayaSettingsSavedState* _tmp47_ = NULL;
	gboolean _tmp48_ = FALSE;
	gboolean _tmp49_ = FALSE;
#line 37 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_data3_ = g_slice_new0 (Block3Data);
#line 37 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_data3_->_ref_count_ = 1;
#line 37 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	self = (MayaViewMayaToolbar*) g_object_new (object_type, NULL);
#line 37 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_data3_->self = g_object_ref (self);
#line 38 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	gtk_header_bar_set_show_close_button ((GtkHeaderBar*) self, TRUE);
#line 40 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp0_ = (GtkButton*) gtk_button_new_from_icon_name ("appointment-new", GTK_ICON_SIZE_LARGE_TOOLBAR);
#line 40 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_object_ref_sink (_tmp0_);
#line 40 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	button_add = _tmp0_;
#line 41 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp1_ = _ ("Create a new event");
#line 41 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	gtk_widget_set_tooltip_text ((GtkWidget*) button_add, _tmp1_);
#line 43 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp2_ = (GtkToggleButton*) gtk_toggle_button_new ();
#line 43 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_object_ref_sink (_tmp2_);
#line 43 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_object_unref0 (self->priv->button_calendar_sources);
#line 43 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	self->priv->button_calendar_sources = _tmp2_;
#line 44 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp3_ = self->priv->button_calendar_sources;
#line 44 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp4_ = (GtkImage*) gtk_image_new_from_icon_name ("office-calendar", GTK_ICON_SIZE_LARGE_TOOLBAR);
#line 44 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_object_ref_sink (_tmp4_);
#line 44 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp5_ = _tmp4_;
#line 44 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	gtk_button_set_image ((GtkButton*) _tmp3_, (GtkWidget*) _tmp5_);
#line 44 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_object_unref0 (_tmp5_);
#line 45 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp6_ = self->priv->button_calendar_sources;
#line 45 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp7_ = _ ("Manage Calendars");
#line 45 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	gtk_widget_set_tooltip_text ((GtkWidget*) _tmp6_, _tmp7_);
#line 47 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp8_ = maya_view_widgets_date_switcher_new (10);
#line 47 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_object_ref_sink (_tmp8_);
#line 47 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_object_unref0 (self->priv->month_switcher);
#line 47 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	self->priv->month_switcher = _tmp8_;
#line 48 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp9_ = maya_view_widgets_date_switcher_new (-1);
#line 48 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_object_ref_sink (_tmp9_);
#line 48 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_object_unref0 (self->priv->year_switcher);
#line 48 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	self->priv->year_switcher = _tmp9_;
#line 49 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp10_ = maya_model_calendar_model_get_default ();
#line 49 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_data3_->calmodel = _tmp10_;
#line 50 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp11_ = maya_model_calendar_model_get_month_start (_data3_->calmodel);
#line 50 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp12_ = _tmp11_;
#line 50 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	maya_view_maya_toolbar_set_switcher_date (self, _tmp12_);
#line 52 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp13_ = (GtkSearchEntry*) gtk_search_entry_new ();
#line 52 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_object_ref_sink (_tmp13_);
#line 52 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_object_unref0 (self->search_bar);
#line 52 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	self->search_bar = _tmp13_;
#line 53 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp14_ = self->search_bar;
#line 53 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp15_ = _ ("Search Events");
#line 53 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	gtk_entry_set_placeholder_text ((GtkEntry*) _tmp14_, _tmp15_);
#line 54 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp16_ = self->search_bar;
#line 54 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	gtk_widget_set_sensitive ((GtkWidget*) _tmp16_, FALSE);
#line 56 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp17_ = _ ("Export or Share the default Calendar");
#line 56 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp18_ = maya_view_widgets_contractor_button_with_menu_new (_tmp17_);
#line 56 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_object_ref_sink (_tmp18_);
#line 56 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	contractor = _tmp18_;
#line 58 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp19_ = (GtkMenu*) gtk_menu_new ();
#line 58 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_object_ref_sink (_tmp19_);
#line 58 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	menu = _tmp19_;
#line 59 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp20_ = granite_widgets_app_menu_new (menu);
#line 59 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_object_ref_sink (_tmp20_);
#line 59 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	menu_button = _tmp20_;
#line 61 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp21_ = (GtkGrid*) gtk_grid_new ();
#line 61 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_object_ref_sink (_tmp21_);
#line 61 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	title_grid = _tmp21_;
#line 62 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	gtk_grid_set_column_spacing (title_grid, 6);
#line 64 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp22_ = self->priv->year_switcher;
#line 64 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	gtk_grid_attach (title_grid, (GtkWidget*) _tmp22_, 0, 0, 1, 1);
#line 65 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp23_ = self->priv->month_switcher;
#line 65 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	gtk_grid_attach (title_grid, (GtkWidget*) _tmp23_, 1, 0, 1, 1);
#line 66 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	gtk_header_bar_set_custom_title ((GtkHeaderBar*) self, (GtkWidget*) title_grid);
#line 70 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp24_ = _ ("Today");
#line 70 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp25_ = (GtkMenuItem*) gtk_menu_item_new_with_label (_tmp24_);
#line 70 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_object_ref_sink (_tmp25_);
#line 70 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	today = _tmp25_;
#line 71 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp26_ = _ ("Show Week Numbers");
#line 71 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp27_ = (GtkCheckMenuItem*) gtk_check_menu_item_new_with_label (_tmp26_);
#line 71 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_object_ref_sink (_tmp27_);
#line 71 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_object_unref0 (self->priv->weeknumbers);
#line 71 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	self->priv->weeknumbers = _tmp27_;
#line 73 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp28_ = _ ("About");
#line 73 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp29_ = (GtkMenuItem*) gtk_menu_item_new_with_label (_tmp28_);
#line 73 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_object_ref_sink (_tmp29_);
#line 73 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	about = _tmp29_;
#line 76 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	gtk_container_add ((GtkContainer*) menu, (GtkWidget*) today);
#line 77 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp30_ = (GtkSeparatorMenuItem*) gtk_separator_menu_item_new ();
#line 77 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_object_ref_sink (_tmp30_);
#line 77 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp31_ = _tmp30_;
#line 77 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	gtk_container_add ((GtkContainer*) menu, (GtkWidget*) _tmp31_);
#line 77 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_object_unref0 (_tmp31_);
#line 78 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp32_ = self->priv->weeknumbers;
#line 78 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	gtk_container_add ((GtkContainer*) menu, (GtkWidget*) _tmp32_);
#line 86 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp33_ = (GtkSeparatorMenuItem*) gtk_separator_menu_item_new ();
#line 86 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_object_ref_sink (_tmp33_);
#line 86 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp34_ = _tmp33_;
#line 86 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	gtk_menu_shell_append ((GtkMenuShell*) menu, (GtkWidget*) ((GtkMenuItem*) _tmp34_));
#line 86 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_object_unref0 (_tmp34_);
#line 87 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	gtk_menu_shell_append ((GtkMenuShell*) menu, (GtkWidget*) about);
#line 89 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp35_ = self->priv->button_calendar_sources;
#line 89 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	gtk_header_bar_pack_start ((GtkHeaderBar*) self, (GtkWidget*) _tmp35_);
#line 90 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	gtk_header_bar_pack_start ((GtkHeaderBar*) self, (GtkWidget*) button_add);
#line 92 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	gtk_header_bar_pack_end ((GtkHeaderBar*) self, (GtkWidget*) menu_button);
#line 93 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp36_ = self->search_bar;
#line 93 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	gtk_header_bar_pack_end ((GtkHeaderBar*) self, (GtkWidget*) _tmp36_);
#line 94 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	gtk_header_bar_pack_end ((GtkHeaderBar*) self, (GtkWidget*) contractor);
#line 98 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_signal_connect_object (button_add, "clicked", (GCallback) ___lambda17__gtk_button_clicked, self, 0);
#line 99 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp37_ = self->priv->button_calendar_sources;
#line 99 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_signal_connect_object ((GtkButton*) _tmp37_, "clicked", (GCallback) _maya_view_maya_toolbar_on_tb_sources_clicked_gtk_button_clicked, self, 0);
#line 100 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_signal_connect_object (today, "activate", (GCallback) ___lambda19__gtk_menu_item_activate, self, 0);
#line 101 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp38_ = self->priv->weeknumbers;
#line 101 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_signal_connect_object (_tmp38_, "toggled", (GCallback) _maya_view_maya_toolbar_on_menu_show_weeks_toggled_gtk_check_menu_item_toggled, self, 0);
#line 102 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_signal_connect_object (about, "activate", (GCallback) ___lambda20__gtk_menu_item_activate, self, 0);
#line 106 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp39_ = self->search_bar;
#line 106 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_signal_connect_object (_tmp39_, "search-changed", (GCallback) ___lambda21__gtk_search_entry_search_changed, self, 0);
#line 108 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp40_ = self->priv->month_switcher;
#line 108 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_signal_connect_object (_tmp40_, "left-clicked", (GCallback) ___lambda22__maya_view_widgets_date_switcher_left_clicked, self, 0);
#line 109 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp41_ = self->priv->month_switcher;
#line 109 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_signal_connect_object (_tmp41_, "right-clicked", (GCallback) ___lambda23__maya_view_widgets_date_switcher_right_clicked, self, 0);
#line 110 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp42_ = self->priv->year_switcher;
#line 110 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_signal_connect_object (_tmp42_, "left-clicked", (GCallback) ___lambda24__maya_view_widgets_date_switcher_left_clicked, self, 0);
#line 111 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp43_ = self->priv->year_switcher;
#line 111 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_signal_connect_object (_tmp43_, "right-clicked", (GCallback) ___lambda25__maya_view_widgets_date_switcher_right_clicked, self, 0);
#line 113 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp44_ = self->priv->button_calendar_sources;
#line 113 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_signal_connect_object ((GtkWidget*) _tmp44_, "size-allocate", (GCallback) _maya_view_maya_toolbar_button_size_allocate_gtk_widget_size_allocate, self, 0);
#line 115 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp45_ = self->priv->weeknumbers;
#line 115 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp46_ = maya_settings_saved_state_get_default ();
#line 115 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp47_ = _tmp46_;
#line 115 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp48_ = maya_settings_saved_state_get_show_weeks (_tmp47_);
#line 115 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp49_ = _tmp48_;
#line 115 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	gtk_check_menu_item_set_active (_tmp45_, _tmp49_);
#line 115 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_object_unref0 (_tmp47_);
#line 116 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_signal_connect_data (_data3_->calmodel, "parameters-changed", (GCallback) ___lambda26__maya_model_calendar_model_parameters_changed, block3_data_ref (_data3_), (GClosureNotify) block3_data_unref, 0);
#line 37 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_object_unref0 (about);
#line 37 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_object_unref0 (today);
#line 37 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_object_unref0 (title_grid);
#line 37 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_object_unref0 (menu_button);
#line 37 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_object_unref0 (menu);
#line 37 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_object_unref0 (contractor);
#line 37 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_object_unref0 (button_add);
#line 37 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	block3_data_unref (_data3_);
#line 37 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_data3_ = NULL;
#line 37 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	return self;
#line 752 "MayaToolbar.c"
}


MayaViewMayaToolbar* maya_view_maya_toolbar_new (void) {
#line 37 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	return maya_view_maya_toolbar_construct (MAYA_VIEW_TYPE_MAYA_TOOLBAR);
#line 759 "MayaToolbar.c"
}


void maya_view_maya_toolbar_set_switcher_date (MayaViewMayaToolbar* self, GDateTime* date) {
	MayaViewWidgetsDateSwitcher* _tmp0_ = NULL;
	GDateTime* _tmp1_ = NULL;
	gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	MayaViewWidgetsDateSwitcher* _tmp4_ = NULL;
	GDateTime* _tmp5_ = NULL;
	gchar* _tmp6_ = NULL;
	gchar* _tmp7_ = NULL;
#line 121 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_return_if_fail (self != NULL);
#line 121 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_return_if_fail (date != NULL);
#line 122 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp0_ = self->priv->month_switcher;
#line 122 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp1_ = date;
#line 122 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp2_ = g_date_time_format (_tmp1_, "%B");
#line 122 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp3_ = _tmp2_;
#line 122 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	maya_view_widgets_date_switcher_set_text (_tmp0_, _tmp3_);
#line 122 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_free0 (_tmp3_);
#line 123 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp4_ = self->priv->year_switcher;
#line 123 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp5_ = date;
#line 123 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp6_ = g_date_time_format (_tmp5_, "%Y");
#line 123 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp7_ = _tmp6_;
#line 123 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	maya_view_widgets_date_switcher_set_text (_tmp4_, _tmp7_);
#line 123 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_free0 (_tmp7_);
#line 800 "MayaToolbar.c"
}


static void maya_view_maya_toolbar_on_menu_show_weeks_toggled (MayaViewMayaToolbar* self) {
	MayaSettingsSavedState* _tmp0_ = NULL;
	MayaSettingsSavedState* _tmp1_ = NULL;
	GtkCheckMenuItem* _tmp2_ = NULL;
	gboolean _tmp3_ = FALSE;
	gboolean _tmp4_ = FALSE;
#line 126 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_return_if_fail (self != NULL);
#line 127 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp0_ = maya_settings_saved_state_get_default ();
#line 127 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp1_ = _tmp0_;
#line 127 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp2_ = self->priv->weeknumbers;
#line 127 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp3_ = gtk_check_menu_item_get_active (_tmp2_);
#line 127 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp4_ = _tmp3_;
#line 127 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	maya_settings_saved_state_set_show_weeks (_tmp1_, _tmp4_);
#line 127 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_object_unref0 (_tmp1_);
#line 826 "MayaToolbar.c"
}


static void maya_view_maya_toolbar_button_size_allocate (MayaViewMayaToolbar* self, GtkAllocation* allocation) {
	MayaViewWidgetsDateSwitcher* _tmp0_ = NULL;
	GtkAllocation _tmp1_ = {0};
	gint _tmp2_ = 0;
	MayaViewWidgetsDateSwitcher* _tmp3_ = NULL;
	GtkAllocation _tmp4_ = {0};
	gint _tmp5_ = 0;
#line 130 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_return_if_fail (self != NULL);
#line 130 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_return_if_fail (allocation != NULL);
#line 131 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp0_ = self->priv->month_switcher;
#line 131 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp1_ = *allocation;
#line 131 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp2_ = _tmp1_.height;
#line 131 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_object_set ((GtkWidget*) _tmp0_, "height-request", _tmp2_, NULL);
#line 132 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp3_ = self->priv->year_switcher;
#line 132 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp4_ = *allocation;
#line 132 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp5_ = _tmp4_.height;
#line 132 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_object_set ((GtkWidget*) _tmp3_, "height-request", _tmp5_, NULL);
#line 857 "MayaToolbar.c"
}


static void ___lambda18_ (MayaViewMayaToolbar* self) {
	GtkToggleButton* _tmp0_ = NULL;
	MayaViewSourceSelector* _tmp1_ = NULL;
#line 140 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp0_ = self->priv->button_calendar_sources;
#line 140 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	gtk_toggle_button_set_active (_tmp0_, FALSE);
#line 141 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp1_ = self->priv->source_selector;
#line 141 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	gtk_widget_set_visible ((GtkWidget*) _tmp1_, FALSE);
#line 872 "MayaToolbar.c"
}


static void ____lambda18__gtk_widget_hide (GtkWidget* _sender, gpointer self) {
#line 139 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	___lambda18_ ((MayaViewMayaToolbar*) self);
#line 879 "MayaToolbar.c"
}


static void maya_view_maya_toolbar_on_tb_sources_clicked (MayaViewMayaToolbar* self, GtkWidget* widget) {
	MayaViewSourceSelector* _tmp0_ = NULL;
	MayaViewSourceSelector* _tmp5_ = NULL;
	gboolean _tmp6_ = FALSE;
	gboolean _tmp7_ = FALSE;
#line 135 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_return_if_fail (self != NULL);
#line 135 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_return_if_fail (widget != NULL);
#line 136 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp0_ = self->priv->source_selector;
#line 136 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	if (_tmp0_ == NULL) {
#line 896 "MayaToolbar.c"
		MayaViewSourceSelector* _tmp1_ = NULL;
		MayaViewSourceSelector* _tmp2_ = NULL;
		GtkWidget* _tmp3_ = NULL;
		MayaViewSourceSelector* _tmp4_ = NULL;
#line 137 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
		_tmp1_ = maya_view_source_selector_new ();
#line 137 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
		g_object_ref_sink (_tmp1_);
#line 137 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
		_g_object_unref0 (self->priv->source_selector);
#line 137 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
		self->priv->source_selector = _tmp1_;
#line 138 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
		_tmp2_ = self->priv->source_selector;
#line 138 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
		_tmp3_ = widget;
#line 138 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
		gtk_popover_set_relative_to ((GtkPopover*) _tmp2_, _tmp3_);
#line 139 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
		_tmp4_ = self->priv->source_selector;
#line 139 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
		g_signal_connect_object ((GtkWidget*) _tmp4_, "hide", (GCallback) ____lambda18__gtk_widget_hide, self, 0);
#line 919 "MayaToolbar.c"
	}
#line 144 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp5_ = self->priv->source_selector;
#line 144 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp6_ = gtk_widget_get_visible ((GtkWidget*) _tmp5_);
#line 144 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_tmp7_ = _tmp6_;
#line 144 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	if (_tmp7_ == FALSE) {
#line 929 "MayaToolbar.c"
		MayaViewSourceSelector* _tmp8_ = NULL;
#line 145 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
		_tmp8_ = self->priv->source_selector;
#line 145 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
		gtk_widget_show_all ((GtkWidget*) _tmp8_);
#line 935 "MayaToolbar.c"
	} else {
		MayaViewSourceSelector* _tmp9_ = NULL;
#line 147 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
		_tmp9_ = self->priv->source_selector;
#line 147 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
		gtk_widget_hide ((GtkWidget*) _tmp9_);
#line 942 "MayaToolbar.c"
	}
}


static void maya_view_maya_toolbar_class_init (MayaViewMayaToolbarClass * klass) {
#line 20 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	maya_view_maya_toolbar_parent_class = g_type_class_peek_parent (klass);
#line 20 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_type_class_add_private (klass, sizeof (MayaViewMayaToolbarPrivate));
#line 20 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	G_OBJECT_CLASS (klass)->finalize = maya_view_maya_toolbar_finalize;
#line 20 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_signal_new ("on_search", MAYA_VIEW_TYPE_MAYA_TOOLBAR, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__STRING, G_TYPE_NONE, 1, G_TYPE_STRING);
#line 20 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_signal_new ("on_menu_today_toggled", MAYA_VIEW_TYPE_MAYA_TOOLBAR, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
#line 20 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	g_signal_new ("add_calendar_clicked", MAYA_VIEW_TYPE_MAYA_TOOLBAR, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
#line 960 "MayaToolbar.c"
}


static void maya_view_maya_toolbar_instance_init (MayaViewMayaToolbar * self) {
#line 20 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	self->priv = MAYA_VIEW_MAYA_TOOLBAR_GET_PRIVATE (self);
#line 967 "MayaToolbar.c"
}


static void maya_view_maya_toolbar_finalize (GObject* obj) {
	MayaViewMayaToolbar * self;
#line 20 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, MAYA_VIEW_TYPE_MAYA_TOOLBAR, MayaViewMayaToolbar);
#line 28 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_object_unref0 (self->priv->month_switcher);
#line 29 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_object_unref0 (self->priv->year_switcher);
#line 30 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_object_unref0 (self->search_bar);
#line 33 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_object_unref0 (self->priv->weeknumbers);
#line 34 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_object_unref0 (self->priv->source_selector);
#line 35 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	_g_object_unref0 (self->priv->button_calendar_sources);
#line 20 "/home/phillip/maya/fix-1329550/src/MayaToolbar.vala"
	G_OBJECT_CLASS (maya_view_maya_toolbar_parent_class)->finalize (obj);
#line 989 "MayaToolbar.c"
}


GType maya_view_maya_toolbar_get_type (void) {
	static volatile gsize maya_view_maya_toolbar_type_id__volatile = 0;
	if (g_once_init_enter (&maya_view_maya_toolbar_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (MayaViewMayaToolbarClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) maya_view_maya_toolbar_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (MayaViewMayaToolbar), 0, (GInstanceInitFunc) maya_view_maya_toolbar_instance_init, NULL };
		GType maya_view_maya_toolbar_type_id;
		maya_view_maya_toolbar_type_id = g_type_register_static (GTK_TYPE_HEADER_BAR, "MayaViewMayaToolbar", &g_define_type_info, 0);
		g_once_init_leave (&maya_view_maya_toolbar_type_id__volatile, maya_view_maya_toolbar_type_id);
	}
	return maya_view_maya_toolbar_type_id__volatile;
}



